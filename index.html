<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Swami Studio | Official Website</title>
    <style>
        /* --- THEME COLORS --- */
        :root {
            --primary: #000000;
            --accent: #FF9900;
            --text: #ffffff;
            --card-bg: #1a1a1a;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; font-family: sans-serif; }
        body { background-color: var(--primary); color: var(--text); }

        /* --- HEADER --- */
        header {
            display: flex; align-items: center; justify-content: space-between;
            padding: 15px 5%; border-bottom: 2px solid var(--accent);
            position: sticky; top: 0; background: black; z-index: 1000;
        }
        .logo-container { display: flex; align-items: center; gap: 15px; }
        .logo-img { height: 60px; border-radius: 50%; border: 2px solid var(--accent); }
        .logo-text h1 { font-size: 1.5rem; text-transform: uppercase; }
        .logo-text span { color: var(--accent); }

        /* --- CATEGORIES --- */
        .categories {
            display: flex; justify-content: center; gap: 15px;
            padding: 30px 20px; flex-wrap: wrap; background: #111;
        }
        .cat-btn {
            background: transparent; border: 2px solid var(--accent);
            color: var(--text); padding: 10px 25px; cursor: pointer;
            text-transform: uppercase; transition: 0.3s;
        }
        .cat-btn:hover, .cat-btn.active { background: var(--accent); color: black; font-weight: bold; }

        /* --- GRID --- */
        .grid-container {
            display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px; padding: 20px 5%; min-height: 50vh;
        }
        .package-card {
            background: var(--card-bg); border: 1px solid #333;
            border-radius: 8px; overflow: hidden; transition: 0.3s;
        }
        .package-card:hover { transform: translateY(-5px); border-color: var(--accent); }
        .media-container { width: 100%; height: 200px; background: #000; }
        .media-container img, .media-container video { width: 100%; height: 100%; object-fit: cover; }
        .card-details { padding: 20px; }
        .card-title { color: var(--accent); font-size: 1.4rem; margin-bottom: 10px; }
        .book-btn {
            display: block; width: 100%; padding: 10px; background: var(--accent);
            color: black; text-align: center; text-decoration: none; font-weight: bold; margin-top: 15px;
        }
        footer { text-align: center; padding: 20px; margin-top: 50px; color: #888; border-top: 1px solid #333; }
    </style>
</head>
<body>

    <header>
        <div class="logo-container">
            <img src="logo.jpg" alt="Logo" class="logo-img">
            <div class="logo-text"><h1>Swami <span>Studio</span></h1></div>
        </div>
        <a href="admin.html" style="color: #555; text-decoration:none;">Admin</a>
    </header>

    <div class="categories" id="categoryContainer"></div>

    <div class="grid-container" id="displayArea"></div>

    <footer><p>&copy; 2025 Swami Studio</p></footer>

    <script>
        // 1. SETUP CATEGORY BUTTONS
        function setupCategories() {
            let cats = JSON.parse(localStorage.getItem('swamiCategories'));
            if (!cats) {
                // If no categories found, set defaults
                cats = ['Pre-Wedding', 'Wedding', 'Maternity', 'Product'];
                localStorage.setItem('swamiCategories', JSON.stringify(cats));
            }

            const container = document.getElementById('categoryContainer');
            container.innerHTML = '';

            // Add "All Services" button manually first
            const allBtn = document.createElement('button');
            allBtn.className = 'cat-btn active';
            allBtn.innerText = 'All Services';
            allBtn.onclick = function() { filterPackages('all', this) };
            container.appendChild(allBtn);

            // Create buttons for each category
            cats.forEach(cat => {
                const btn = document.createElement('button');
                btn.className = 'cat-btn';
                btn.innerText = cat;
                btn.onclick = function() { filterPackages(cat, this) };
                container.appendChild(btn);
            });

            // Load all items by default
            filterPackages('all', allBtn);
        }

        // 2. DISPLAY LOGIC
        function filterPackages(category, btnElement) {
            const data = JSON.parse(localStorage.getItem('swamiStudioData')) || [];
            const display = document.getElementById('displayArea');
            display.innerHTML = '';

            // Update button styles
            document.querySelectorAll('.cat-btn').forEach(b => b.classList.remove('active'));
            if(btnElement) btnElement.classList.add('active');

            // Filter data
            const filtered = category === 'all' ? data : data.filter(item => item.category === category);

            if(filtered.length === 0) {
                display.innerHTML = '<p style="color:white; text-align:center; grid-column: 1/-1;">No packages found yet.</p>';
                return;
            }

            // Create Cards
            filtered.forEach(pkg => {
                let mediaHtml = pkg.type === 'video' 
                    ? `<video src="${pkg.url}" controls></video>` 
                    : `<img src="${pkg.url}" alt="${pkg.title}">`;

                const card = `
                    <div class="package-card">
                        <div class="media-container">${mediaHtml}</div>
                        <div class="card-details">
                            <h3 class="card-title">${pkg.title}</h3>
                            <div style="font-weight:bold; margin-bottom:10px;">Price: â‚¹${pkg.price}</div>
                            <p style="color:#ccc; font-size:0.9rem;">${pkg.desc}</p>
                            <a href="https://wa.me/919876543210?text=I am interested in ${pkg.title}" class="book-btn">Book Now</a>
                        </div>
                    </div>
                `;
                display.innerHTML += card;
            });
        }

        window.onload = setupCategories;
    </script>
</body>
</html>
